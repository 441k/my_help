
\subsubsection{featuresでの記述とその意味}
featuresでの記述は，コマンドの振る舞いを説明する自然な記述となる．
その様子をspecific\_helpが用意しているデフォルトのコマンドについて
説明する．specific\_helpとは，ユーザが作成するそれぞれのヘルプである．
speific\_helpの--helpを表示させると，
\begin{quote}\begin{verbatim}
        --edit                       edit help contentsを開く
        --to_hiki                    hikiのformatに変更する
        --all                        すべてのhelp画面を表示させる
        --store [item]               store [item] でback upをとる
        --remove [item]              remove [item] back upしてるlistを消去する
        --add [item]                 add new [item]で新しいhelpを作る
        --backup_list [val]          back upしているlistを表示させる
\end{verbatim}\end{quote}
が得られる．これらの項目について順に詳細な振る舞いとそれを記述する
シナリオを検討していく．

\subsubsection{my\_helpのfeatures}
下記は私が作成したmy\_helpの一部をfeaturesで書いたものである．

\paragraph{--add [item]}
このコマンドは新しいitemをspecific\_helpに追加する．
提供される機能を
シナリオの先頭に内容をかいつまんでこの振る舞いが記述されている．
実装では，ヘルプの内容は~/.my\_help/emacs\_help.ymlに元dataがある
\begin{quote}\begin{verbatim}
nasu% cat add.feature
#language: ja

#--add [item]
機能: 新しいitemをspecific_helpに追加する
specific_helpとは，ユーザが作成するそれぞれのヘルプである
新しいhelp画面を追加したい

シナリオ: コマンドを入力してspecific_helpにitemを追加する
        前提 新たなhelpコマンドを追加したい
        もし emacs_help --add[item]を入力する
        ならば ~/.my_help/emacs_help.ymlに新しいitemが自動的に追加される

\end{verbatim}\end{quote}
\paragraph{全てのhelp画面の表示}\begin{lstlisting}[style=,basicstyle={\scriptsize\ttfamily}]

#language: ja

#--all
機能: 全てのhelp画面を見る
複数のhelp画面を一度に見たい時に便利である

シナリオ: コマンドを入力してすべてのhelpを見る
        前提 複数のhelp画面を表示したい
        もし emacs_help --allと入力する
        ならば すべてのhelp画面が表示される
\end{lstlisting}
シナリオ：コマンドをニュ力してすべてのhelp画面を見る

コマンド：emacs\_help --all

\paragraph{過去にバックアップしてあるitemのリストの表示}\begin{lstlisting}[style=,basicstyle={\scriptsize\ttfamily}]
#language: ja

#--backup_list
機能: 過去にバックアップしてあるitemのリストを表示させる
何をバックアップしたかの確認をしたい

シナリオ: コマンドを入力してバックアップのリストを見る
        前提 バックアップのリストを見たい
        もし emacs_help --backup_listを入力する
        ならば バックアップしているitemのリストが表示される
        
\end{lstlisting}
シナリオ：コマンドを入力してバックアップのリストを見る
コマンド：emacs\_help --backup\_list

\paragraph{helpコマンドの追加や削除，編集をするファイルの開示}\begin{lstlisting}[style=,basicstyle={\scriptsize\ttfamily}]
# language: ja
#--edit
機能: helpコマンドの追加や削除，編集をするためのeiditを開く
emacs_helpと入力したときに出てくるhelpのコマンドの追加や削除，編集ができる

シナリオ: コマンドを入力してeditを開く
        前提 emacs_helpのコマンドの編集がしたい
        もし emacs_help --editと入力する
        ならば ~/.my_help/emacs_help.ymlがemacsで開かれる
\end{lstlisting}
シナリオ：コマンドを入力してeditを開く
コマンド：emacs\_help --edit

元dataである~/.my\_help/emacs\_help.ymlを開く．

ここで編集を行い，emacsで開いているのでC-x,C-sで保存する．

\paragraph{specific\_helpのitemの消去}\begin{lstlisting}[style=,basicstyle={\scriptsize\ttfamily}]
#language: ja

#--remove [item]
機能: specific_helpのitemを消す
いらなくなったitemを消したいときに使う

シナリオ: コマンドを入力してitemを消す
        前提 いらないitemを消したい
        もし emacs_help remove [item]
        ならば ~/.my_help/emacs_help.ymlからitemが消える

\end{lstlisting}
シナリオ：コマンドを入力してitemを消す

コマンド：emacs\_help --remove

\paragraph{itemのバックアップ}\begin{lstlisting}[style=,basicstyle={\scriptsize\ttfamily}]
#language: ja

#--store [item]
機能: itemのバックアップを取る
バックアップとして残したいitemがあるときに使う

シナリオ: コマンドを入力してitemのバックアップをとる
        前提 バックアップをとっておきたい
        もし emacs_help --store [item]と入力する
        ならば 入力したitemのバックアップが作られる
\end{lstlisting}
シナリオ：コマンドを入力してバックアップをとる

コマンド：emacs\_help --store [item]

\paragraph{hikiへのformatの変更}\begin{lstlisting}[style=,basicstyle={\scriptsize\ttfamily}]
# language: ja

#--to_hiki
機能:formatをhikiモードに変更する
一つ一つエディタで開いて変更するのがめんどくさい時に有益である

シナリオ: コマンドを入力してformatをhikiモードに変える
        前提 hikiモードに変更したい
        もし emacs_help --to_hikiと入力する
        ならば formatがhikiモードに変更される
\end{lstlisting}
シナリオ：コマンドを入力してformatをhikiモードにする

コマンド：emacs\_help --to\_hiki

\paragraph{todoの更新}\begin{lstlisting}[style=,basicstyle={\scriptsize\ttfamily}]
# language: ja

機能: todoの更新を行う
todoは更新していくものであり,新しく書いたり終わったものを消したいのでバック\
アップをとって，過去のtodoを残しておく

シナリオ: コマンドを入力してtodoを更新していく
          前提 todoを編集したい
          もし "my_todo --edit"と入力する
          ならば editが開かれる
          かつ 自分のtodoを書き込む

シナリオ: コマンドを入力してバックアップをとる
          前提 todoの編集が終わった
          もし "my_todo --store [item]"と入力する
          ならば itemのバックアップを取る
\end{lstlisting}
シナリオ１：コマンドを入力してtodoを更新する
シナリオ２：コマンドを入力してバックアップをとる

コマンド１：my\_todo --edit
コマンド２：my\_todo --store [item]

my\_todo --editで~/.my\_help/my\_todo.ymlを開く．

ここで編集を行い，emacsで開いているのでC-x,C-sで保存する．

my\_todo --store [item]でtodoのitemをバックアップとっておく．

この動作により過去のバックアップを閲覧することができ，どんどん更新することが可能である．

